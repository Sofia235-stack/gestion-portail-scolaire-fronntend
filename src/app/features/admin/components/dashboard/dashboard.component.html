<div class="dashboard-container">
  <h1 class="page-title">Tableau de bord administrateur</h1>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
  </div>

  <div *ngIf="!loading" class="dashboard-content">
    <!-- Cartes de statistiques -->
    <div class="stats-cards">
      <mat-card class="stats-card">
        <mat-card-content>
          <div class="stats-value">{{ stats.totalEleves || 0 }}</div>
          <div class="stats-label">Élèves</div>
        </mat-card-content>
        <mat-card-footer>
          <mat-icon>school</mat-icon>
        </mat-card-footer>
      </mat-card>

      <mat-card class="stats-card">
        <mat-card-content>
          <div class="stats-value">{{ stats.totalEnseignants || 0 }}</div>
          <div class="stats-label">Enseignants</div>
        </mat-card-content>
        <mat-card-footer>
          <mat-icon>person</mat-icon>
        </mat-card-footer>
      </mat-card>

      <mat-card class="stats-card">
        <mat-card-content>
          <div class="stats-value">{{ stats.totalClasses || 0 }}</div>
          <div class="stats-label">Classes</div>
        </mat-card-content>
        <mat-card-footer>
          <mat-icon>groups</mat-icon>
        </mat-card-footer>
      </mat-card>

      <mat-card class="stats-card">
        <mat-card-content>
          <div class="stats-value">{{ stats.totalMatieres || 0 }}</div>
          <div class="stats-label">Matières</div>
        </mat-card-content>
        <mat-card-footer>
          <mat-icon>book</mat-icon>
        </mat-card-footer>
      </mat-card>
    </div>

    <!-- Graphiques -->
    <div class="charts-container">
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Effectif par classe</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <canvas baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [type]="barChartType">
          </canvas>
        </mat-card-content>
      </mat-card>

      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Répartition des utilisateurs</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <canvas baseChart
            [data]="pieChartData"
            [options]="pieChartOptions"
            [type]="pieChartType">
          </canvas>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Actions rapides -->
    <div class="quick-actions">
      <h2>Actions rapides</h2>
      <div class="actions-buttons">
        <button mat-raised-button color="primary" routerLink="/admin/eleves/nouveau">
          <mat-icon>person_add</mat-icon>
          Ajouter un élève
        </button>
        <button mat-raised-button color="accent" routerLink="/admin/enseignants/nouveau">
          <mat-icon>person_add</mat-icon>
          Ajouter un enseignant
        </button>
        <button mat-raised-button color="warn" routerLink="/admin/classes">
          <mat-icon>groups</mat-icon>
          Gérer les classes
        </button>
        <button mat-raised-button color="primary" routerLink="/admin/matieres">
          <mat-icon>book</mat-icon>
          Gérer les matières
        </button>
      </div>
    </div>
  </div>
</div>